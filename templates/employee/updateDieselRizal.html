
{% extends 'index.html' %}



{% block content %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">


<style>
  #container {
            width: 50%; /* Set the width of the div element */
            margin: auto; /* Center the div */
            border-width: 1px;
            /* border-style: solid; */
           
           
    }

  #title{
    display: flex;
    justify-content: center; /* Horizontally center the content */
    align-items: center; /* Vertically center the content */
    height: 10vh; /* Assuming you want to center the h1 vertically on the page */
  }

  .form-control{
    background-color: smoke whitesmoke;
    /* color: white; */
  }
</style>

<body>

  <div id="container" class="container mt-4">
    
    <div class="container-sm">
      <h1 id="title">RIZAL DIESEL UPDATE</h1>
      {% for list in agg_result_list %}
      <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <input type="text" hidden  class="form-control" id="trans_id"  value="{{list.id}}">
            <input type="date" class="form-control" id="trans_date"  value="{{list.transaction_date}}">
            <label for="floatingInputGrid">Transaction Date</label>
          </div>
        </div>
        <div class="col-md">
          <div class="form-floating">
            <input type="text" class="form-control" id="equipment_id"  value="{{list.equipment_id}}">
            <label for="floatingInputGrid" style="font-size: 15px;">Equipment</label>
          </div>
        </div>
      </div>

      <br>

      <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <input type="text" class="form-control" id="withdrawal_slip"  value="{{list.withdrawal_slip}}">
            <label for="floatingInputGrid">Withdrawal Slip</label>
          </div>
        </div>
        <div class="col-md">
          <div class="form-floating">
            <input type="number" class="form-control" id="use_liter" value="{{list.use_liter}}">
            <label for="floatingInputGrid" style="font-size: 15px;">Total Liters</label>
          </div>
        </div>
      </div>

      <br>
      <div class="row g-2">
        <div class="col-md">
          <div class="form-floating">
            <input type="number" class="form-control" id="price" value="{{list.price}}">
            <label for="floatingInputGrid">Price</label>
          </div>
        </div>
        <div class="col-md">
          <div class="form-floating">
            <input type="number" class="form-control" id="amount" value="{{list.amount}}">
            <label for="floatingInputGrid" style="font-size: 15px;">Amount</label>
          </div>
        </div>
      </div>

      <br>


      

      <br>

      

      {% endfor %} 
      <button type="button" id="Btn_update_diesel" name="Btn_update_diesel"  class="btn btn-warning">Update</button>
    
    </div>
  </div>

  <!-- <script>
          const update_diesel = async() => {
              var data = {}
              var id = document.getElementById("trans_id").value
              data["transaction_date"] = document.getElementById("trans_date").value
              data["equipment_id"] = document.getElementById("equipment_id").value
              data["withdrawal_slip"] = document.getElementById("withdrawal_slip").value
              data["use_liter"] = document.getElementById("use_liter").value
              data["price"] = document.getElementById("price").value
              data["amount"] = document.getElementById("amount").value

            
              
              console.log(data)
              console.log(id)


              if(id != '' | data["withdrawal_slip"] != '' | data["amount"] 
                        | data["equipment_id"] != ''    ){
                      
                  fetch("/api-update-diesel-employeeLogin2/"+ id, {
                  method:'PUT', 
                  headers: {'Content-Type': 'application/json'},
                  body: JSON.stringify(data)
                      })
                  // window.location.assign("/peso-bill/");
                  .then(function (response) {
                      // Save the response status in a variable to use later.
                      fetch_status = response.status;
                      // Handle success
                      // eg. Convert the response to JSON and return
                      return response.json();
                  }) 
                  .then(function (json) {
                      // Check if the response were success
                      if (fetch_status == 200) {
                          // Use the converted JSON
                          window.alert("Your Data has been Updated");
                          window.location.assign("/employee-rizal-equipment-rental/");
                          console.log(json);
                      }
                  })
                  .catch(function (error){
                      // Catch errors
                      window.alert(error);
                      console.log(error);
                  });
                  
                  }
                  else{
                      window.alert("Please fill up fields");
                  }

            
          }

        const Btn_updateDiesel = document.querySelector('#Btn_update_diesel');
        Btn_updateDiesel.addEventListener("click", update_diesel); 
  </script> -->

  <script src="/static/rizal_diesel_update.js"></script>

  




</body>



{% endblock %}